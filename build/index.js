(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.jQuery;var a=e.n(t);new class{constructor(){a()(document).ready((()=>{this.spinner=a()(".spinner"),this.overlay=a()(".overlay"),this.search_btn=a()(".search__btn"),this.search_field=a()("#search_input"),this.close_btn=a()(".close_overlay_btn"),this.is_loading=!1,this.searchres=a()(".searchResult"),this.events(),this.timout}))}launch_overlay(){console.log("hello"),this.overlay.removeClass("overlay_search")}events(){this.search_btn.on("click",(()=>{this.launch_overlay()})),this.close_btn.on("click",(()=>{this.overlay.addClass("overlay_search")})),this.search_field.on("keyup",this.keyPressed.bind(this))}keyPressed(e){this.spinner.removeClass("spinner"),clearTimeout(this.timout),this.timout=setTimeout((()=>{this.spinner.addClass("spinner"),this.search_field.val(),a().getJSON(baseData.root_url+"/wp-json/university/search?term="+this.search_field.val(),(e=>{this.searchres.html(0!=this.search_field.val()?`<div class ="row" style = "width : 100% ; height : 100%">\n                        <div class = "col-lg-4 col-md-4 col-sm-12 col-12">\n                          <h1>general information</h1>\n                           ${0!=e.length?`${e.jeneral_info.map((e=>`<li><a href="${e.permalink}">${e.title}</a></li>`))}`:"<p> No result</p>"}\n                        </div>\n                        <div class = "col-lg-4 col-md-4 col-sm-12 col-12">\n                        <h1>professor data</h1>\n                        ${0!=e.length?`${e.professorsData.map((e=>`<li><a href="${e.permalink}">${e.title}</a></li>`))}`:"<p> No result</p>"}\n                        </div>\n                        <div class = "col-lg-4 col-md-4 col-sm-12 col-12">\n                         <h1>event data</h1>\n                        ${0!=e.length?`${e.eventData.map((e=>`<li><a href="${e.permalink}">${e.title}</a></li>`))}`:"<p> No result</p>"}\n                        </div>\n                        <div class = "col-lg-4 col-md-4 col-sm-12 col-12">\n                         <h1>campuse data</h1>\n                        ${0!=e.length?`${e.campuseData.map((e=>`<li><a href="${e.permalink}">${e.title}</a></li>`))}`:"<p> No result</p>"}\n                        </div>\n                        <div class = "col-lg-4 col-md-4 col-sm-12 col-12">\n                         <h1>programs data</h1>\n                        ${0!=e.length?`${e.programs.map((e=>`<li><a href="${e.permalink}">${e.title}</a></li>`))}`:"<p> No result</p>"}\n                        <p>Related professors</p>\n                        ${0!=e.length?`${e.professorsData.map((e=>`<li><a href="${e.permalink}">${e.title}</a></li>`))}`:"<p> No result</p>"}\n                        </div>\n                    </div>`:"<p>write any thing</p>")}))}),1e3)}},new class{constructor(){a()(document).ready((()=>{this.delete_btn=a()(".delete_btn"),this.Edit_btn=a()(".Edit_btn"),this.btn_save=a()(".btn_save"),this.input_title=a()(".input_title"),this.input_content=a()(".input_content"),this.Create_btn=a()(".Create_btn"),this.cNote_title=a()(".cNote_title"),this.cNote_content=a()(".cNote_content"),this.available_nots=a()(".available_nots"),this.eventss()}))}eventss(){this.Create_btn.on("click",(e=>{this.createNote(e)})),this.Edit_btn.on("click",(e=>this.edit_note(e))),this.delete_btn.on("click",(e=>{var t=a()(e.target).parent();a().ajax({beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",baseData.nonce)},url:baseData.root_url+"/wp-json/wp/v2/note/"+t.data("id"),type:"DELETE",success:()=>{alert("deleted successfuly"),a()(e.target).parent().parent().remove()},error:e=>{alert("their is an error"+e)}})})),this.btn_save.on("click",(e=>this.save_note(e)))}edit_note(e){a()(e.target).parent().parent().find(".input_title , .input_content").removeAttr("readonly"),a()(e.target).html('\n          <i  class="fa fa-times" style="margin-right: 5px;"></i> cancel\n          '),a()(e.target).parent().parent().find(".btn_save").removeClass("hide")}save_note(e){var t=a()(e.target).parent(),s={title:this.input_title.val(),content:this.input_content.val()};console.log(s),a().ajax({beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",baseData.nonce)},url:baseData.root_url+"/wp-json/wp/v2/note/"+t.data("id"),type:"PUT",data:s,success:()=>{alert("Updated successfuly"),this.btn_save.addClass("hide"),a()(e.target).parent().parent().find(".Edit_btn").html('\n           <i  class="fa fa-edit" style="margin-right: 5px;"></i> Edit\n          ')},error:e=>{}})}createNote(e){var t={title:this.cNote_title.val(),content:this.cNote_content.val(),status:"private"};a().ajax({beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",baseData.nonce)},url:baseData.root_url+"/wp-json/wp/v2/note/",type:"POST",data:t,success:e=>{console.log(e),this.available_nots.prepend(`\n              <div  style="width: 60%; margin: auto; height: auto; display: flex; justify-content: space-between; align-items: center; margin-bottom : 30px !important;">\n        \n             <div  style="display: flex; flex-direction: column; width: 80%; gap: 10px; height: auto; position: relative;" data-id = "${e.id}">\n             <input class="input_title" readonly value="${e.title.raw}">\n             <textarea class="input_content" readonly>${e.content.raw}</textarea>\n             <button class="btn btn-primary btn_save hide" style="position: absolute; bottom: -50px; left: 0;"><i class="fa fa-save" style="color: white !important; margin-right: 5px;"></i>Save</button>\n             </div>\n       \n            <div  style="display: flex; gap: 10px ;" data-id = "${e.id}">\n            <span  class="Edit_btn edite_button"><i  class="fa fa-edit" style="margin-right: 5px;"></i> Edite</span>\n            <span  class="delete_btn delete_button"><i  class="fa fa-trash" style="margin-right: 5px;"></i> Delete</span></div>\n       \n            </div>\n            `).hide().slideDown(),console.log(e),"\r\n\r\n\r\nyou reached your post limit"!=e.responseText&&a()(".limit_text").addClass("activee")},error:e=>{"\r\n\r\n\r\nyou reached your post limit"==e.responseText&&a()(".limit_text").html(""),a()(".limit_text").prepend("you reached your post limit").removeClass("activee")}})}},new class{constructor(){a()(document).ready((()=>{this.like_heart=a()(".like_heart"),this.events()}))}events(){this.like_heart.on("click",(e=>this.Like_Dispasher(e)))}Like_Dispasher(e){var t=a()(e.target).closest(".like_heart");"no"==t.attr("data-exists")?(console.log("create Like"),this.createLike(e),t.attr("data-exists","yes")):(console.log("delete Like"),this.Delete_like(e),t.attr("data-exists","no"))}createLike(e){console.log("liked");var t={proffesor_id:a()(".like_heart").data("id")};a().ajax({beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",baseData.nonce)},url:baseData.root_url+"/wp-json/university/Likes",data:t,type:"POST",success:e=>{console.log("liked_succ");var t=a()(".like_heart").find(".counter");a()(".like_heart").attr("data-like",e);var s=parseInt(t.html(),10);s++,t.html(s)},error:e=>{}})}Delete_like(e){var t={proffesor_id:a()(".like_heart").data("id"),like_post_id:a()(".like_heart").data("like")};a().ajax({beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",baseData.nonce)},url:baseData.root_url+"/wp-json/university/Likes",data:t,type:"DELETE",success:e=>{var t=a()(".like_heart").find(".counter"),s=parseInt(t.html(),10);s--,t.html(s)},error:e=>{}})}}})();